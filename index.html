<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mirror Dungeon Randomiser</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Mirror Dungeon Randomiser</h1>

  <!-- Run setup -->
  <section id="run-setup">
    <h2>Run setup</h2>

    <label>
      Number of Sinners:
      <input type="number" id="numSinners" value="12" min="1" max="12">
    </label>

    <label>
      EGOs per Sinner (1–5):
      <input type="number" id="egosPerSinner" value="3" min="1" max="5">
    </label>

    <label>
      <input type="checkbox" id="randomizeOrder">
      Randomise deployment order (1–7 on-field, rest support)
    </label>

    <button id="randomizeRunBtn">Randomise Run</button>

    <h3>Result</h3>
    <pre id="runResult"></pre>
    <button id="copyResultBtn">Copy result to clipboard</button>
  </section>

  <!-- Ownership settings -->
  <section id="settings">
  <h2>Owned IDs/EGOs</h2>
  <p>
    Tick the Identities and EGOs you own. Base LCB Identities and base ZAYIN EGOs
    are always available as a fallback.
  </p>

  <div id="ownershipSearchBar">
    <label>
      Search IDs / EGOs:
      <input
        type="text"
        id="ownershipSearchInput"
        placeholder="e.g. Yi Sang, Solemn Lament, Lantern"
      >
    </label>
    <button id="ownershipSearchBtn">Search</button>
    <button id="ownershipClearSearchBtn">Clear search</button>
  </div>

  <!-- NEW: keyword filter bar -->
  <div id="keywordFilterBar">
  <button id="toggleKeywordFiltersBtn">Filter by keyword</button>
  <span id="activeKeywordFiltersDisplay">No keyword filters active</span>
  <button id="clearKeywordFiltersBtn">Clear keyword filters</button>

  <div id="keywordFilters" class="hidden">
    <p>Select one or more keywords:</p>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="burn"> Burn
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="bleed"> Bleed
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="tremor"> Tremor
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="sinking"> Sinking
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="rupture"> Rupture
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="poise"> Poise
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="charge"> Charge
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="slash"> Slash
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="blunt"> Blunt
    </label>
    <label class="keyword-filter">
      <input type="checkbox" data-keyword="pierce"> Pierce
    </label>
  </div>
</div>

  <button id="toggleSettings">Show / hide IDs/EGOs</button>
  <button id="resetOwnershipBtn">Reset to LCB ID/base ZAYIN EGO only</button>
  <button id="selectAllIdsBtn">Select all IDs</button>
  <button id="selectAllEgosBtn">Select all EGOs</button>
  <button id="selectAllOwnershipBtn">Select all IDs/EGOs</button>

  <div id="ownershipContainer" class="hidden"></div>
</section>

  <!-- Saved teams -->
  <section id="saved-teams">
    <h2>Saved teams</h2>
    <label>
      Team name:
      <input type="text" id="saveTeamName" placeholder="e.g. Funny Bleed Run">
    </label>
    <button id="saveTeamBtn">Save current result</button>
    <button id="clearTeamsBtn">Clear all saved teams</button>

    <div id="savedTeamsList"></div>
  </section>

  <script src="data.js"></script>
  <script src="main.js"></script>
</body>
</html>
